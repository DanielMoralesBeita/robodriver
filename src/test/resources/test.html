<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Event Test Page</title>
</head>
<body>

    <h3>Click Area</h3>
    <div>
    <canvas id="testarea" width="200" height="200"></canvas>
    </div>
    <h3>Outputs</h3>
    <textarea id="outputs" rows="4" cols="50"></textarea>
    <br>
    <input id="clearbutton" type="button" value="Clear"/>
    <script>
        var elem = document.getElementById('testarea');
        var context = elem.getContext('2d');
        context.fillStyle = '#0000FF';
        context.fillRect(0, 0, 200, 200);
        var mousedownX, mousedownY;
        var out = document.getElementById('outputs');
        elem.onclick = function(event) { 
           var upAndDown = (mousedownX == event.offsetX && mousedownY == event.offsetY)
           if (upAndDown) {
             out.value = "click pos: " + event.offsetX + "," + event.offsetY;
           }
        };
        elem.onmousedown = function(event) { 
          mousedownX = event.offsetX; 
          mousedownY = event.offsetY; 
        };
        elem.onmouseup = function(event) { 
           out.value = "mouse move: from (" + mousedownX + "," + mousedownY + ") to ("
            + event.offsetX + "," + event.offsetY + ")";
        };
        
        var clear = document.getElementById('clearbutton');
        clear.onclick = function() { out.value = ""; };
    </script>

</body>
</html>